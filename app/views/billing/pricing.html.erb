<div class="row">
  <div class="col-lg-8 mx-auto">
    <h1 class="h3 mb-3"><%= t("billing.title") %></h1>

    <div class="card mb-3">
      <div class="card-body d-flex flex-column flex-md-row justify-content-between align-items-start gap-3">
        <div>
          <h2 class="h5 mb-1"><%= t("billing.pro.name") %></h2>
          <p class="mb-2 text-muted"><%= t("billing.pro.desc") %></p>
          <div class="fs-4 fw-semibold"><%= t("billing.pro.price") %></div>
        </div>
        <div class="ms-md-auto">
          <%= form_with url: billing_subscribe_path(locale: I18n.locale), method: :post, class: "d-inline" do %>
            <%# Можно переопределить price через params[:price] при локальной проверке %>
            <%= hidden_field_tag :price, params[:price] if params[:price].present? %>
            <%= submit_tag t("billing.actions.subscribe"), class: "btn btn-primary" %>
          <% end %>
          <% if current_user.stripe_customer_id.present? %>
            <%= button_to t("billing.actions.manage"),
                          billing_portal_path(locale: I18n.locale),
                          method: :post,
                          class: "btn btn-outline-secondary ms-2" %>
          <% end %>
        </div>
      </div>
    </div>

    <p class="text-muted small">
      <%= t("billing.hint.env") %>
    </p>
  </div>
</div>
